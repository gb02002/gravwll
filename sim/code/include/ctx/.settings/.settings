#pragma once
#include "config.h"
#include <functional>
#include <string>

// Исправляем название enum (если это опечатка)
enum PopuationDataMode { CONFIG, NO_DATA, GEN };

// Объявляем функцию для конвертации строки в enum
PopuationDataMode StringToDataMode(
    const std::string &str); // extern const std::string @CONFIG_DIRECTORY;
class Settings {
public:
  Settings(int argc, char **argv);
  Settings() { SetDefault(); };

  bool HEADLESS;
  int N;
  bool VERBOSE;
  bool DEBUG;
  unsigned short TreeMaxDepth;
  PopuationDataMode DataMode;
  int FPS = 60;
  int IntegrationStep = 2000;

private:
  void ReadInput(int argc, char **argv);
  void SetDefault();
  void ReadConfigFile();
  void SetUpValue(std::string &key, std::string &value);

  std::unordered_map<std::string, std::string> ARG_ALIAS = {
      {"--headless", "headless"},
      {"-h", "headless"},
      {"--verbose", "verbose"},
      {"-v", "verbose"},
      {"--debug", "debug"},
      {"-d", "debug"},
      {"--data-mode", "datamode"},
      {"-dm", "datamode"},
      {"--fps", "fps"},
      {"--integrationStep", "integrationstep"},
      {"--N", "n"},
      {"--n", "n"}};

  const std::string ConfigFilePath = std::string(CONFIG_DIRECTORY);
};
